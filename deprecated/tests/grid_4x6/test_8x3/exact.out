sonicyouth:~/code/nbody_tucker/tests/grid_4x6/test_8x3> ~/code/nbody_tucker/nbtuck_davidson.py -ju ev -j test.2.m -nb 0 -nr 1 -dmit 40 -opt none -np 64 64 64 64
 j12:
[[  0.       -1.        0.        0.       -1.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.       10.     ]
 [ -1.        0.       -1.        0.        0.       -1.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.       -1.        0.       -1.        0.        0.       -0.03125
    0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.     ]
 [  0.        0.       -1.        0.        0.        0.        0.
   -0.03125   0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.     ]
 [ -1.        0.        0.        0.        0.       -1.        0.        0.
   -0.03125   0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.       -1.        0.        0.       -1.        0.       -0.03125
    0.        0.       -0.03125   0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.     ]
 [  0.        0.       -0.03125   0.        0.       -0.03125   0.       -1.
    0.        0.       -1.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.        0.        0.       -0.03125   0.        0.       -1.        0.
    0.        0.        0.       -1.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.        0.        0.        0.       -0.03125   0.        0.        0.
    0.       -1.        0.        0.       -0.03125   0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.        0.        0.        0.        0.       -0.03125   0.        0.
   -1.        0.       -1.        0.        0.       -0.03125   0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.       -1.        0.
    0.       -1.        0.       -1.        0.        0.       -0.03125
    0.        0.        0.        0.        0.        0.        0.        0.
    0.     ]
 [  0.        0.        0.        0.        0.        0.        0.       -1.
    0.        0.       -1.        0.        0.        0.        0.
   -0.03125   0.        0.        0.        0.        0.        0.        0.
    0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
   -0.03125   0.        0.        0.        0.       -1.        0.        0.
   -1.        0.        0.        0.        0.        0.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.       -0.03125   0.        0.       -1.        0.       -1.        0.
    0.       -1.        0.        0.        0.        0.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.       -0.03125   0.        0.       -1.        0.       -1.
    0.        0.       -0.03125   0.        0.        0.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.       -0.03125   0.        0.       -1.        0.
    0.        0.        0.       -0.03125   0.        0.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.       -1.        0.        0.        0.
    0.       -1.        0.        0.       -0.03125   0.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.       -1.        0.        0.
   -1.        0.       -0.03125   0.        0.       -0.03125   0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.       -0.03125
    0.        0.       -0.03125   0.       -1.        0.        0.       -1.
    0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.
   -0.03125   0.        0.       -1.        0.        0.        0.        0.
   -1.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
   -0.03125   0.        0.        0.        0.       -1.        0.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.       -0.03125   0.        0.       -1.        0.       -1.        0.     ]
 [  0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.       -1.        0.        0.       -1.        0.       -1.     ]
 [ 10.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.        0.        0.        0.        0.        0.
    0.        0.        0.       -1.        0.        0.       -1.        0.     ]]
 blocks:
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
 n_blocks:
4
 Generate initial guess vectors
 Guess eigenstates
   Local State                 <H>          <S2>          <Sz> 
   0                   -5.70156212        0.0000        0.0000 
   1                   -4.25179837        2.0000        1.0000 
   2                   -4.25179837        2.0000       -1.0000 
   3                   -4.25179837        2.0000       -0.0000 
   4                   -3.19171239        2.0000       -1.0000 
   5                   -3.19171239        2.0000        1.0000 
   6                   -3.19171239        2.0000       -0.0000 
   7                   -2.00000000        0.0000       -0.0000 
   8                   -2.00000000        2.0000        1.0000 
   9                   -2.00000000        2.0000       -0.0000 
   10                  -2.00000000        2.0000       -1.0000 
   11                  -2.00000000        2.0000       -0.0000 
   12                  -2.00000000        2.0000        1.0000 
   13                  -2.00000000        2.0000       -1.0000 
   14                  -2.00000000        0.0000       -0.0000 
   15                  -1.56155281        6.0000       -2.0000 
   16                  -1.56155281        6.0000        1.0000 
   17                  -1.56155281        6.0000       -1.0000 
   18                  -1.56155281        6.0000        0.0000 
   19                  -1.56155281        6.0000        2.0000 
   20                  -1.12157880        2.0000        0.0000 
   21                  -1.12157880        2.0000        1.0000 
   22                  -1.12157880        2.0000       -1.0000 
   23                  -0.00000000        6.0000       -0.0000 
   24                  -0.00000000        0.0000        0.0000 
   25                  -0.00000000        2.0000       -1.0000 
   26                  -0.00000000        2.0000        0.0000 
   27                   0.00000000        6.0000        2.0000 
   28                   0.00000000        2.0000        1.0000 
   29                   0.00000000        6.0000       -1.0000 
   30                   0.00000000        6.0000        1.0000 
   31                   0.00000000        6.0000       -2.0000 
   32                   0.51202501        2.0000       -0.0000 
   33                   0.51202501        2.0000        1.0000 
   34                   0.51202501        2.0000       -1.0000 
   35                   0.70156212        0.0000        0.0000 
   36                   1.00000000        2.0000        1.0000 
   37                   1.00000000        2.0000        0.0000 
   38                   1.00000000        6.0000       -1.0000 
   39                   1.00000000        6.0000       -2.0000 
   40                   1.00000000        2.0000       -1.0000 
   41                   1.00000000        6.0000        1.0000 
   42                   1.00000000        6.0000       -2.0000 
   43                   1.00000000        6.0000        1.0000 
   44                   1.00000000        6.0000       -0.0000 
   45                   1.00000000        6.0000        2.0000 
   46                   1.00000000        6.0000       -1.0000 
   47                   1.00000000        6.0000        2.0000 
   48                   1.00000000        6.0000       -0.0000 
   49                   2.05306455        2.0000       -1.0000 
   50                   2.05306455        2.0000        1.0000 
   51                   2.05306455        2.0000       -0.0000 
   52                   2.56155281        6.0000        0.0000 
   53                   2.56155281        6.0000       -1.0000 
   54                   2.56155281        6.0000        1.0000 
   55                   2.56155281        6.0000        2.0000 
   56                   2.56155281        6.0000       -2.0000 
   57                   3.00000000       12.0000       -3.0000 
   58                   3.00000000       12.0000       -1.0000 
   59                   3.00000000       12.0000        3.0000 
   60                   3.00000000       12.0000        2.0000 
   61                   3.00000000       12.0000       -2.0000 
   62                   3.00000000       12.0000        1.0000 
   63                   3.00000000       12.0000       -0.0000 
 Guess eigenstates
   Local State                 <H>          <S2>          <Sz> 
   0                   -5.70156212        0.0000        0.0000 
   1                   -4.25179837        2.0000       -0.0000 
   2                   -4.25179837        2.0000        1.0000 
   3                   -4.25179837        2.0000       -1.0000 
   4                   -3.19171239        2.0000       -1.0000 
   5                   -3.19171239        2.0000       -0.0000 
   6                   -3.19171239        2.0000        1.0000 
   7                   -2.00000000        2.0000       -1.0000 
   8                   -2.00000000        2.0000       -0.0000 
   9                   -2.00000000        2.0000       -0.0000 
   10                  -2.00000000        0.0000        0.0000 
   11                  -2.00000000        2.0000        1.0000 
   12                  -2.00000000        0.0000       -0.0000 
   13                  -2.00000000        2.0000        1.0000 
   14                  -2.00000000        2.0000       -1.0000 
   15                  -1.56155281        6.0000       -1.0000 
   16                  -1.56155281        6.0000        0.0000 
   17                  -1.56155281        6.0000        1.0000 
   18                  -1.56155281        6.0000        2.0000 
   19                  -1.56155281        6.0000       -2.0000 
   20                  -1.12157880        2.0000        0.0000 
   21                  -1.12157880        2.0000       -1.0000 
   22                  -1.12157880        2.0000        1.0000 
   23                  -0.00000000        6.0000        2.0000 
   24                  -0.00000000        6.0000        1.0000 
   25                  -0.00000000        0.0000        0.0000 
   26                  -0.00000000        2.0000        1.0000 
   27                  -0.00000000        2.0000       -0.0000 
   28                   0.00000000        6.0000       -2.0000 
   29                   0.00000000        2.0000       -1.0000 
   30                   0.00000000        6.0000        0.0000 
   31                   0.00000000        6.0000       -1.0000 
   32                   0.51202501        2.0000        1.0000 
   33                   0.51202501        2.0000       -0.0000 
   34                   0.51202501        2.0000       -1.0000 
   35                   0.70156212        0.0000       -0.0000 
   36                   1.00000000        6.0000        2.0000 
   37                   1.00000000        2.0000       -1.0000 
   38                   1.00000000        6.0000        1.0000 
   39                   1.00000000        6.0000        2.0000 
   40                   1.00000000        6.0000        0.0000 
   41                   1.00000000        2.0000        0.0000 
   42                   1.00000000        2.0000        1.0000 
   43                   1.00000000        6.0000        1.0000 
   44                   1.00000000        6.0000       -1.0000 
   45                   1.00000000        6.0000        0.0000 
   46                   1.00000000        6.0000       -2.0000 
   47                   1.00000000        6.0000       -1.0000 
   48                   1.00000000        6.0000       -2.0000 
   49                   2.05306455        2.0000        1.0000 
   50                   2.05306455        2.0000       -1.0000 
   51                   2.05306455        2.0000        0.0000 
   52                   2.56155281        6.0000        0.0000 
   53                   2.56155281        6.0000       -1.0000 
   54                   2.56155281        6.0000        1.0000 
   55                   2.56155281        6.0000       -2.0000 
   56                   2.56155281        6.0000        2.0000 
   57                   3.00000000       12.0000        2.0000 
   58                   3.00000000       12.0000        1.0000 
   59                   3.00000000       12.0000       -1.0000 
   60                   3.00000000       12.0000       -2.0000 
   61                   3.00000000       12.0000       -3.0000 
   62                   3.00000000       12.0000        3.0000 
   63                   3.00000000       12.0000        0.0000 
 Guess eigenstates
   Local State                 <H>          <S2>          <Sz> 
   0                   -5.70156212        0.0000        0.0000 
   1                   -4.25179837        2.0000        1.0000 
   2                   -4.25179837        2.0000       -1.0000 
   3                   -4.25179837        2.0000       -0.0000 
   4                   -3.19171239        2.0000       -1.0000 
   5                   -3.19171239        2.0000        1.0000 
   6                   -3.19171239        2.0000       -0.0000 
   7                   -2.00000000        0.0000       -0.0000 
   8                   -2.00000000        2.0000        1.0000 
   9                   -2.00000000        2.0000       -0.0000 
   10                  -2.00000000        2.0000       -1.0000 
   11                  -2.00000000        2.0000       -0.0000 
   12                  -2.00000000        2.0000        1.0000 
   13                  -2.00000000        2.0000       -1.0000 
   14                  -2.00000000        0.0000       -0.0000 
   15                  -1.56155281        6.0000       -2.0000 
   16                  -1.56155281        6.0000        1.0000 
   17                  -1.56155281        6.0000       -1.0000 
   18                  -1.56155281        6.0000        0.0000 
   19                  -1.56155281        6.0000        2.0000 
   20                  -1.12157880        2.0000        0.0000 
   21                  -1.12157880        2.0000        1.0000 
   22                  -1.12157880        2.0000       -1.0000 
   23                  -0.00000000        6.0000       -0.0000 
   24                  -0.00000000        0.0000        0.0000 
   25                  -0.00000000        2.0000       -1.0000 
   26                  -0.00000000        2.0000        0.0000 
   27                   0.00000000        6.0000        2.0000 
   28                   0.00000000        2.0000        1.0000 
   29                   0.00000000        6.0000       -1.0000 
   30                   0.00000000        6.0000        1.0000 
   31                   0.00000000        6.0000       -2.0000 
   32                   0.51202501        2.0000       -0.0000 
   33                   0.51202501        2.0000        1.0000 
   34                   0.51202501        2.0000       -1.0000 
   35                   0.70156212        0.0000        0.0000 
   36                   1.00000000        2.0000        1.0000 
   37                   1.00000000        2.0000        0.0000 
   38                   1.00000000        6.0000       -1.0000 
   39                   1.00000000        6.0000       -2.0000 
   40                   1.00000000        2.0000       -1.0000 
   41                   1.00000000        6.0000        1.0000 
   42                   1.00000000        6.0000       -2.0000 
   43                   1.00000000        6.0000        1.0000 
   44                   1.00000000        6.0000       -0.0000 
   45                   1.00000000        6.0000        2.0000 
   46                   1.00000000        6.0000       -1.0000 
   47                   1.00000000        6.0000        2.0000 
   48                   1.00000000        6.0000       -0.0000 
   49                   2.05306455        2.0000       -1.0000 
   50                   2.05306455        2.0000        1.0000 
   51                   2.05306455        2.0000       -0.0000 
   52                   2.56155281        6.0000        0.0000 
   53                   2.56155281        6.0000       -1.0000 
   54                   2.56155281        6.0000        1.0000 
   55                   2.56155281        6.0000        2.0000 
   56                   2.56155281        6.0000       -2.0000 
   57                   3.00000000       12.0000       -3.0000 
   58                   3.00000000       12.0000       -1.0000 
   59                   3.00000000       12.0000        3.0000 
   60                   3.00000000       12.0000        2.0000 
   61                   3.00000000       12.0000       -2.0000 
   62                   3.00000000       12.0000        1.0000 
   63                   3.00000000       12.0000       -0.0000 
 Guess eigenstates
   Local State                 <H>          <S2>          <Sz> 
   0                   -5.70156212        0.0000        0.0000 
   1                   -4.25179837        2.0000       -0.0000 
   2                   -4.25179837        2.0000        1.0000 
   3                   -4.25179837        2.0000       -1.0000 
   4                   -3.19171239        2.0000       -1.0000 
   5                   -3.19171239        2.0000       -0.0000 
   6                   -3.19171239        2.0000        1.0000 
   7                   -2.00000000        2.0000       -1.0000 
   8                   -2.00000000        2.0000       -0.0000 
   9                   -2.00000000        2.0000       -0.0000 
   10                  -2.00000000        0.0000        0.0000 
   11                  -2.00000000        2.0000        1.0000 
   12                  -2.00000000        0.0000       -0.0000 
   13                  -2.00000000        2.0000        1.0000 
   14                  -2.00000000        2.0000       -1.0000 
   15                  -1.56155281        6.0000       -1.0000 
   16                  -1.56155281        6.0000        0.0000 
   17                  -1.56155281        6.0000        1.0000 
   18                  -1.56155281        6.0000        2.0000 
   19                  -1.56155281        6.0000       -2.0000 
   20                  -1.12157880        2.0000        0.0000 
   21                  -1.12157880        2.0000       -1.0000 
   22                  -1.12157880        2.0000        1.0000 
   23                  -0.00000000        6.0000        2.0000 
   24                  -0.00000000        6.0000        1.0000 
   25                  -0.00000000        0.0000        0.0000 
   26                  -0.00000000        2.0000        1.0000 
   27                  -0.00000000        2.0000       -0.0000 
   28                   0.00000000        6.0000       -2.0000 
   29                   0.00000000        2.0000       -1.0000 
   30                   0.00000000        6.0000        0.0000 
   31                   0.00000000        6.0000       -1.0000 
   32                   0.51202501        2.0000        1.0000 
   33                   0.51202501        2.0000       -0.0000 
   34                   0.51202501        2.0000       -1.0000 
   35                   0.70156212        0.0000       -0.0000 
   36                   1.00000000        6.0000        2.0000 
   37                   1.00000000        2.0000       -1.0000 
   38                   1.00000000        6.0000        1.0000 
   39                   1.00000000        6.0000        2.0000 
   40                   1.00000000        6.0000        0.0000 
   41                   1.00000000        2.0000        0.0000 
   42                   1.00000000        2.0000        1.0000 
   43                   1.00000000        6.0000        1.0000 
   44                   1.00000000        6.0000       -1.0000 
   45                   1.00000000        6.0000        0.0000 
   46                   1.00000000        6.0000       -2.0000 
   47                   1.00000000        6.0000       -1.0000 
   48                   1.00000000        6.0000       -2.0000 
   49                   2.05306455        2.0000        1.0000 
   50                   2.05306455        2.0000       -1.0000 
   51                   2.05306455        2.0000        0.0000 
   52                   2.56155281        6.0000        0.0000 
   53                   2.56155281        6.0000       -1.0000 
   54                   2.56155281        6.0000        1.0000 
   55                   2.56155281        6.0000       -2.0000 
   56                   2.56155281        6.0000        2.0000 
   57                   3.00000000       12.0000        2.0000 
   58                   3.00000000       12.0000        1.0000 
   59                   3.00000000       12.0000       -1.0000 
   60                   3.00000000       12.0000       -2.0000 
   61                   3.00000000       12.0000       -3.0000 
   62                   3.00000000       12.0000        3.0000 
   63                   3.00000000       12.0000        0.0000 

 Prepare Lattice Blocks:
[64, 64, 64, 64] [0, 0, 0, 0]
 Block 0   :    0,    1,    2,    3,    4,    5 : [64, 0, 0]
 Block 1   :    6,    7,    8,    9,   10,   11 : [64, 0, 0]
 Block 2   :   12,   13,   14,   15,   16,   17 : [64, 0, 0]
 Block 3   :   18,   19,   20,   21,   22,   23 : [64, 0, 0]

 Prepare Tucker blocks:

 Configurations defining the variational space
   0   0   0   0 ::   64  64  64  64 :: 16777216  Range=        0:16777216

 Solve for supersystem eigenvalues: Dimension =  16777216
  Davidson Iter    1  |  Vecs:   2 :  |      -22.80624847  |  8.7e+00 
  Davidson Iter    2  |  Vecs:   3 :  |      -26.76355822  |  1.1e+00 
  Davidson Iter    3  |  Vecs:   4 :  |      -26.81485076  |  1.5e-01 
  Davidson Iter    4  |  Vecs:   5 :  |      -26.81757008  |  1.4e-01 
  Davidson Iter    5  |  Vecs:   6 :  |      -26.81913511  |  3.1e-02 
  Davidson Iter    6  |  Vecs:   7 :  |      -26.81920146  |  2.2e-02 
  Davidson Iter    7  |  Vecs:   8 :  |      -26.81925684  |  7.1e-03 
  Davidson Iter    8  |  Vecs:   9 :  |      -26.81925930  |  3.1e-03 
  Davidson Iter    9  |  Vecs:  10 :  |      -26.81926048  |  1.2e-03 
  Davidson Iter   10  |  Vecs:  11 :  |      -26.81926054  |  4.4e-04 
  Davidson Iter   11  |  Vecs:  12 :  |      -26.81926057  |  3.2e-04 
  Davidson Iter   12  |  Vecs:  13 :  |      -26.81926057  |  8.0e-05 
^CTraceback (most recent call last):
  File "/home/nmayhall/code/nbody_tucker/nbtuck_davidson.py", line 600, in <module>
    hv, s2v = build_tucker_blocked_sigma(n_blocks, tucker_blocks, lattice_blocks, n_body_order, j12, dav.vec_curr) 
  File "/home/nmayhall/code/nbody_tucker/block.py", line 1023, in build_tucker_blocked_sigma
    hv,s2v = build_Hv(lattice_blocks, tb_l, tb_r, j12,v_r)
  File "/home/nmayhall/code/nbody_tucker/block.py", line 812, in build_Hv
    h2v = np.tensordot(h2,v_tens,axes=([0,1],[0,1]) )
  File "/usr/lib/python2.7/dist-packages/numpy/core/numeric.py", line 1332, in tensordot
    res = dot(at, bt)
KeyboardInterrupt

